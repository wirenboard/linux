/dts-v1/;
#include "sun50i-h616-wirenboard84x.dtsi"

// This file is used only for updating via FIT

/ {
	model = "Wiren Board rev. 8 (T507) bootlet";
	compatible = "wirenboard,wirenboard-8xx", "allwinner,sun50i-h616";

	a1_volt: a1-volt {
		compatible = "voltage-divider";
		io-channels = <&wbec_adc 6>;
		#io-channel-cells = <1>;

		output-ohms = <10000>;
		full-ohms = <110000>;
		status = "okay";
	};

	a2_volt: a2-volt {
		compatible = "voltage-divider";
		io-channels = <&wbec_adc 7>;
		#io-channel-cells = <1>;

		output-ohms = <10000>;
		full-ohms = <110000>;
	};

	a3_volt: a3-volt {
		compatible = "voltage-divider";
		io-channels = <&wbec_adc 8>;
		#io-channel-cells = <1>;

		output-ohms = <10000>;
		full-ohms = <110000>;
	};

	a4_volt: a4-volt {
		compatible = "voltage-divider";
		io-channels = <&wbec_adc 9>;
		#io-channel-cells = <1>;

		output-ohms = <10000>;
		full-ohms = <110000>;
	};
};

&regulators {
	reg_usb_a_vbus_wb8: regulator@21 {
		compatible = "regulator-fixed";
		gpio = <&pio PE 4 GPIO_ACTIVE_HIGH>;  // WB85: GSM POWER
		regulator-name = "usb-vbus";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		enable-active-high;
	};
	reg_usb_a_vbus_wb85: regulator@22 {
		compatible = "regulator-fixed";
		gpio = <&pio PE 9 GPIO_ACTIVE_HIGH>;  // WB8: 5V ON
		regulator-name = "usb-vbus";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		enable-active-high;
	};
};

&ohci3 {
	status = "okay";
};

&ehci3 {
	status = "okay";
};

&usbphy {
	usb0_vbus-supply = <&reg_usb_a_vbus_wb8>;
	usb3_vbus-supply = <&reg_usb_a_vbus_wb85>;
};
